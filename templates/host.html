<!DOCTYPE html>
<html>
<head>
  <title>出題者画面</title>
</head>
<body>
  <h2>提出されたホワイトボードと点数</h2>

  <div>
    {% for name, image, score in answers %}
      <div style="margin-bottom: 20px;">
        <p>{{ name }} - 点数: <input type="number" min="0" value="{{ score }}" onchange="updateScore('{{ name }}', this.value)"></p>
        <img src="{{ image }}" alt="回答画像" style="max-width: 300px; border: 1px solid #ccc;">
      </div>
    {% endfor %}
  </div>

  <a href="/reset">リセット（点数を確定）</a>

  <script>
    function updateScore(name, score) {
      fetch('/score', {
        method: 'POST',
        headers: {'Content-Type': 'application/x-www-form-urlencoded'},
        body: `name=${encodeURIComponent(name)}&score=${encodeURIComponent(score)}`
      });
    }
  </script>
</body>
</html>
